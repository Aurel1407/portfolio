<!doctype html>
<html lang="fr" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Shu-no - Plateforme de réservation de gîtes en Bretagne développée en React et Node.js"
    />
    <meta name="author" content="Aurélien Thébault" />
    <meta
      name="keywords"
      content="Shu-no, réservation gîtes, Bretagne, React, Node.js, TypeScript, Express, plateforme réservation, projet développeur, Aurélien Thébault"
    />

    <!-- Canonical URL -->
    <link
      rel="canonical"
      href="https://auvielno.fr/projects/shuno.html"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="fr_FR" />
    <meta
      property="og:title"
      content="Shu-no - Plateforme de Réservation | Aurélien Thébault"
    />
    <meta
      property="og:description"
      content="Plateforme de réservation de gîtes en Bretagne développée en React, TypeScript, Node.js et Express avec système de réservation et gestion utilisateurs"
    />
    <meta
      property="og:url"
      content="https://auvielno.fr/projects/shuno.html"
    />
    <meta
      property="og:image"
      content="https://auvielno.fr/images/shuno-logo.svg"
    />
    <meta property="og:site_name" content="Aurélien Thébault Portfolio" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Shu-no - Plateforme de Réservation" />
    <meta
      name="twitter:description"
      content="Plateforme de réservation de gîtes développée en React et Node.js"
    />
    <meta
      name="twitter:image"
      content="https://auvielno.fr/images/shuno-logo.svg"
    />

    <title>
      Shu-no | Plateforme Réservation React, Node.js, PostgreSQL | Aurélien
      Thébault
    </title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../images/brand/favicon.png?v=3" />
    <link rel="shortcut icon" href="../images/brand/favicon.png?v=3" />

    <!-- Manifest PWA -->
    <link rel="manifest" href="../manifest.json" />

    <!-- Humans.txt -->
    <link rel="author" href="../humans.txt" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Polices Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- CSS personnalisé -->
    <link rel="stylesheet" href="../style.css" />

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Shu-no",
        "applicationCategory": "Booking Platform",
        "description": "Plateforme de réservation de gîtes en Bretagne développée en React, TypeScript, Node.js et Express avec système de réservation et gestion utilisateurs",
        "operatingSystem": "Web",
        "author": {
          "@type": "Person",
          "name": "Aurélien Thébault",
          "url": "https://auvielno.fr/"
        },
        "programmingLanguage": [
          "React",
          "TypeScript",
          "Node.js",
          "Express",
          "JavaScript"
        ],
        "datePublished": "2024"
      }
    </script>
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Accueil",
            "item": "https://auvielno.fr/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Projets",
            "item": "https://auvielno.fr/#projects"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Shu-no",
            "item": "https://auvielno.fr/projects/shuno.html"
          }
        ]
      }
    </script>
  </head>

  <body class="bg-gray-50 font-sans">
    <!-- Navigation -->
    <nav
      class="fixed top-0 w-full bg-slate-900/95 backdrop-blur-sm shadow-lg z-50"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <a
            href="../index.html"
            class="inline-flex items-center"
            aria-label="Retour au portfolio"
          >
            <img
              src="../images/brand/logo-nom.png"
              alt="Auvielno"
              class="h-10 w-auto object-contain"
              loading="eager"
          /></a>
          <a
            href="../index.html#projects"
            class="text-gray-300 hover:text-white transition-colors"
          >
            <i class="fas fa-arrow-left mr-2"></i>Retour aux projets
          </a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section
      class="pt-24 pb-12 bg-gradient-to-br from-slate-900 via-slate-800 to-cyan-900"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-8">
          <div
            class="inline-block p-4 bg-gradient-to-br from-gray-900 via-cyan-900 to-gray-800 rounded-2xl mb-6"
          >
            <img
              src="../images/shuno-logo.svg"
              alt="Logo Shu-no"
              class="w-32 h-32"
            />
          </div>
          <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Shu-no</h1>
          <p class="text-xl text-gray-300 mb-6">
            Plateforme de Réservation de Gîtes en Bretagne
          </p>
          <div class="flex flex-wrap justify-center gap-3">
            <span
              class="px-4 py-2 bg-yellow-500/90 text-gray-900 rounded-xl font-semibold"
            >
              <i class="fas fa-code mr-2"></i>En développement actif
            </span>
            <span class="px-4 py-2 bg-gray-700 text-white rounded-xl">
              <i class="fas fa-calendar mr-2"></i>2025
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- Contenu principal -->
    <main class="py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Description -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            À propos du projet
          </h2>
          <div class="prose prose-lg max-w-none">
            <p class="text-gray-700 leading-relaxed mb-4">
              Shu-no est une plateforme complète de gestion de réservations de
              gîtes offrant une expérience utilisateur moderne et intuitive pour
              découvrir, réserver et gérer des hébergements touristiques sur la
              Côte de Goëlo en Bretagne. Ce projet a été développé dans le cadre
              de mon stage professionnel DWWM (Développeur Web et Web Mobile) à
              l'AFPA de Brest.
            </p>
            <p class="text-gray-700 leading-relaxed mb-4">
              L'application utilise une architecture full-stack moderne avec
              TypeScript côté frontend (React 18) et backend (Node.js/Express),
              garantissant une base de code robuste et maintenable. Une
              attention particulière a été portée aux performances, à
              l'accessibilité et à la sécurité tout au long du développement.
            </p>
            <p class="text-gray-700 leading-relaxed">
              Développé selon la méthodologie Agile sur 10 semaines (5 sprints
              de 2 semaines) dans le cadre de mon stage DWWM, le projet continue
              d'évoluer avec l'ajout de nouvelles fonctionnalités et
              l'amélioration continue de l'expérience utilisateur.
              L'infrastructure de déploiement a été mise en place pour la
              soutenance de stage, et le projet est actuellement en phase
              d'amélioration et d'ajout de fonctionnalités avancées.
            </p>
          </div>
        </section>

        <!-- Technologies utilisées -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Technologies utilisées
          </h2>
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Frontend -->
            <div class="bg-white p-6 rounded-xl shadow-md">
              <h3
                class="text-xl font-bold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-laptop-code text-gray-600 mr-3"></i>
                Frontend
              </h3>
              <div class="flex flex-wrap gap-2">
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >React 18</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >TypeScript</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >Vite</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >Tailwind CSS</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >React Router 6</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >React Query</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >Radix UI</span
                >
              </div>
            </div>

            <!-- Backend -->
            <div class="bg-white p-6 rounded-xl shadow-md">
              <h3
                class="text-xl font-bold text-gray-900 mb-4 flex items-center"
              >
                <i class="fas fa-server text-gray-600 mr-3"></i>
                Backend
              </h3>
              <div class="flex flex-wrap gap-2">
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >Node.js</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >Express</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >TypeScript</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >TypeORM</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >PostgreSQL</span
                >
                <span
                  class="px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm"
                  >JWT</span
                >
              </div>
            </div>
          </div>
        </section>

        <!-- Fonctionnalités principales -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Fonctionnalités principales
          </h2>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
            <!-- Première grille (6 cartes en 3 colonnes) -->
            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-calendar-check text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Réservation en temps réel
              </h3>
              <p class="text-gray-600 text-sm">
                Système de réservation avec calendrier interactif et
                disponibilité instantanée
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-search text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Recherche avancée
              </h3>
              <p class="text-gray-600 text-sm">
                Filtres par dates, nombre de personnes, et localisation avec
                résultats instantanés
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-chart-line text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Dashboard analytique
              </h3>
              <p class="text-gray-600 text-sm">
                Statistiques complètes et graphiques en temps réel pour les
                administrateurs
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-euro-sign text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Tarification dynamique
              </h3>
              <p class="text-gray-600 text-sm">
                Gestion des périodes et tarifs saisonniers avec calcul
                automatique
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-home text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Gestion des propriétés
              </h3>
              <p class="text-gray-600 text-sm">
                CRUD complet sur les gîtes avec galerie photos et descriptions
                détaillées
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-user-shield text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Authentification JWT
              </h3>
              <p class="text-gray-600 text-sm">
                Système de sécurité robuste avec JWT et gestion des rôles
                utilisateurs
              </p>
            </div>
          </div>

          <!-- Deuxième grille (2 cartes centrées) -->
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-mobile-alt text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Design responsive
              </h3>
              <p class="text-gray-600 text-sm">
                Interface adaptative pour une expérience optimale sur tous les
                appareils
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-rocket text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Performances optimisées
              </h3>
              <p class="text-gray-600 text-sm">
                Optimisation du temps de chargement et de la réactivité de
                l'interface
              </p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-md">
              <div
                class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center mb-4"
              >
                <i class="fas fa-universal-access text-gray-700 text-xl"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-900 mb-2">
                Accessibilité
              </h3>
              <p class="text-gray-600 text-sm">
                Respect des normes d'accessibilité pour une utilisation
                inclusive
              </p>
            </div>
          </div>
        </section>

        <!-- Galerie de captures d'écran -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">
            Captures d'écran
          </h2>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Images du projet -->
            <img
              src="../images/projects/shuno/accueil.webp"
              alt="Page d'accueil Shu-no"
              class="rounded-xl shadow-lg w-full aspect-video object-cover object-top cursor-pointer hover:opacity-90 transition-opacity"
              loading="lazy"
              onclick="openLightbox(this.src, this.alt)"
            />
            <img
              src="../images/projects/shuno/recherche-gites.webp"
              alt="Recherche de gîtes Shu-no"
              class="rounded-xl shadow-lg w-full aspect-video object-cover object-top cursor-pointer hover:opacity-90 transition-opacity"
              loading="lazy"
              onclick="openLightbox(this.src, this.alt)"
            />
            <img
              src="../images/projects/shuno/details-gite.webp"
              alt="Détails d'un gîte Shu-no"
              class="rounded-xl shadow-lg w-full aspect-video object-cover object-top cursor-pointer hover:opacity-90 transition-opacity"
              loading="lazy"
              onclick="openLightbox(this.src, this.alt)"
            />
            <img
              src="../images/projects/shuno/calendrier-reservation.webp"
              alt="Calendrier de réservation Shu-no"
              class="rounded-xl shadow-lg w-full aspect-video object-cover object-top cursor-pointer hover:opacity-90 transition-opacity"
              loading="lazy"
              onclick="openLightbox(this.src, this.alt)"
            />
            <img
              src="../images/projects/shuno/dashboard-admin.webp"
              alt="Dashboard Admin Shu-no"
              class="rounded-xl shadow-lg w-full aspect-video object-cover object-top cursor-pointer hover:opacity-90 transition-opacity"
              loading="lazy"
              onclick="openLightbox(this.src, this.alt)"
            />
            <img
              src="../images/projects/shuno/gestion-proprietes.webp"
              alt="Gestion des propriétés Shu-no"
              class="rounded-xl shadow-lg w-full aspect-video object-cover object-top cursor-pointer hover:opacity-90 transition-opacity"
              loading="lazy"
              onclick="openLightbox(this.src, this.alt)"
            />
          </div>
        </section>

        <!-- Liens du projet -->
        <section class="mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Liens</h2>
          <div class="flex flex-wrap gap-4">
            <a
              href="https://github.com/Aurel1407/Shu-no"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center px-6 py-3 bg-gray-900 text-white rounded-xl hover:bg-gray-800 transition-colors"
            >
              <i class="fab fa-github mr-2"></i>
              Voir le code source
            </a>
          </div>
          <p class="text-sm text-gray-500 mt-4 italic">
            <i class="fas fa-info-circle mr-1"></i>
            Projet en développement actif - Le déploiement en production
            interviendra après finalisation des fonctionnalités avancées
          </p>
        </section>
      </div>
    </main>

    <!-- Lightbox pour les images -->
    <div
      id="lightbox"
      class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden flex items-center justify-center p-4"
      onclick="if (event.target === this) closeLightbox()"
    >
      <button
        class="absolute top-4 right-4 z-20 text-white text-4xl hover:text-gray-300 transition-colors"
        onclick="closeLightbox()"
        aria-label="Fermer"
      >
        <i class="fas fa-times"></i>
      </button>
      
      <!-- Contrôles de zoom -->
      <div class="absolute bottom-4 left-1/2 z-10 transform -translate-x-1/2 flex gap-2 bg-black/60 p-2 rounded-lg" onclick="event.stopPropagation()">
        <button
          onclick="zoomOut()"
          class="text-white px-3 py-2 hover:bg-white/20 rounded transition-colors"
          aria-label="Dézoomer"
        >
          <i class="fas fa-minus"></i>
        </button>
        <span id="zoom-level" class="text-white px-3 py-2">100%</span>
        <button
          onclick="zoomIn()"
          class="text-white px-3 py-2 hover:bg-white/20 rounded transition-colors"
          aria-label="Zoomer"
        >
          <i class="fas fa-plus"></i>
        </button>
        <button
          onclick="toggleFullscreen()"
          class="text-white px-3 py-2 hover:bg-white/20 rounded transition-colors"
          aria-label="Basculer en plein écran"
        >
          <i class="fas fa-expand"></i>
        </button>
      </div>

      <!-- Conteneur image avec scroll pour panoramique -->
      <div
        id="lightbox-container"
        class="relative max-w-4xl max-h-full overflow-auto cursor-move"
        onclick="event.stopPropagation()"
        onwheel="handleZoom(event)"
      >
        <img
          id="lightbox-img"
          src=""
          alt=""
          class="rounded-lg shadow-2xl select-none"
          style="transform-origin: center center;"
          onclick="event.stopPropagation()"
        />
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white py-8">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <p class="text-gray-400">
          &copy; 2025 Aurélien Thébault. Tous droits réservés.
        </p>
      </div>
    </footer>

    <!-- JavaScript -->
    <script src="../script.js"></script>
    <script>
      // Variables pour le zoom
      let currentZoom = 100;
      let baseImageWidth = 0;
      const MIN_ZOOM = 100;
      const MAX_ZOOM = 400;
      const ZOOM_STEP = 25;
      let isDragging = false;
      let dragStartX = 0;
      let dragStartY = 0;
      let scrollStartX = 0;
      let scrollStartY = 0;

      // Lightbox avec zoom
      function openLightbox(src, alt) {
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");
        baseImageWidth = 0;
        lightboxImg.src = src;
        lightboxImg.alt = alt;
        lightbox.classList.remove("hidden");
        lightbox.classList.add("flex");
        document.body.style.overflow = "hidden";
        currentZoom = 100;

        lightboxImg.onload = () => {
          baseImageWidth = lightboxImg.clientWidth || lightboxImg.naturalWidth;
          updateZoomDisplay();
        };
      }

      function closeLightbox() {
        const lightbox = document.getElementById("lightbox");
        lightbox.classList.add("hidden");
        lightbox.classList.remove("flex");
        document.body.style.overflow = "auto";
        currentZoom = 100;
        baseImageWidth = 0;

        if (document.fullscreenElement) {
          document.exitFullscreen();
        }
      }

      function zoomIn() {
        if (currentZoom < MAX_ZOOM) {
          const previousZoom = currentZoom;
          currentZoom += ZOOM_STEP;
          updateZoomDisplay(previousZoom);
        }
      }

      function zoomOut() {
        if (currentZoom > MIN_ZOOM) {
          const previousZoom = currentZoom;
          currentZoom -= ZOOM_STEP;
          updateZoomDisplay(previousZoom);
        }
      }

      function resetZoom() {
        const previousZoom = currentZoom;
        currentZoom = 100;
        updateZoomDisplay(previousZoom);
      }

      function toggleFullscreen() {
        const lightbox = document.getElementById("lightbox");

        if (document.fullscreenElement) {
          document.exitFullscreen();
        } else {
          lightbox.requestFullscreen();
        }
      }

      function updateZoomDisplay(previousZoom = currentZoom) {
        const img = document.getElementById("lightbox-img");
        const zoomLevel = document.getElementById("zoom-level");
        const container = document.getElementById("lightbox-container");

        img.style.transform = "none";
        img.style.height = "auto";

        if (!baseImageWidth) {
          baseImageWidth = img.clientWidth || img.naturalWidth;
        }

        const targetWidth = Math.max(
          1,
          Math.round((baseImageWidth * currentZoom) / 100)
        );

        const centerX = container.scrollLeft + container.clientWidth / 2;
        const centerY = container.scrollTop + container.clientHeight / 2;
        const zoomRatio = currentZoom / Math.max(previousZoom, 1);

        img.style.width = `${targetWidth}px`;
        img.style.maxWidth = "none";

        container.scrollLeft = Math.max(
          0,
          centerX * zoomRatio - container.clientWidth / 2
        );
        container.scrollTop = Math.max(
          0,
          centerY * zoomRatio - container.clientHeight / 2
        );

        zoomLevel.textContent = `${currentZoom}%`;
      }

      function handleZoom(event) {
        event.preventDefault();
        if (event.deltaY < 0) {
          zoomIn();
        } else {
          zoomOut();
        }
      }

      function handleDragStart(event) {
        const container = document.getElementById("lightbox-container");
        const img = document.getElementById("lightbox-img");
        
        // Activer le drag seulement si l'image est plus grande que le conteneur (zoomée)
        if (img.clientWidth <= container.clientWidth && img.clientHeight <= container.clientHeight) {
          return;
        }

        isDragging = true;
        dragStartX = event.clientX || event.touches[0].clientX;
        dragStartY = event.clientY || event.touches[0].clientY;
        scrollStartX = container.scrollLeft;
        scrollStartY = container.scrollTop;
        container.style.cursor = "grabbing";
      }

      function handleDragMove(event) {
        if (!isDragging) return;
        event.preventDefault();

        const container = document.getElementById("lightbox-container");
        const currentX = event.clientX || event.touches[0].clientX;
        const currentY = event.clientY || event.touches[0].clientY;

        const deltaX = dragStartX - currentX;
        const deltaY = dragStartY - currentY;

        container.scrollLeft = scrollStartX + deltaX;
        container.scrollTop = scrollStartY + deltaY;
      }

      function handleDragEnd() {
        isDragging = false;
        const container = document.getElementById("lightbox-container");
        container.style.cursor = "move";
      }

      // Fermer avec la touche Échap
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          if (document.fullscreenElement) {
            return;
          }

          closeLightbox();
        }
      });

      // Event listeners pour le drag/pan sur le lightbox-container
      const lightboxContainer = document.getElementById("lightbox-container");
      lightboxContainer.addEventListener("mousedown", handleDragStart);
      lightboxContainer.addEventListener("mousemove", handleDragMove);
      lightboxContainer.addEventListener("mouseup", handleDragEnd);
      lightboxContainer.addEventListener("mouseleave", handleDragEnd);
      
      // Touch events pour mobile/tablet
      lightboxContainer.addEventListener("touchstart", handleDragStart);
      lightboxContainer.addEventListener("touchmove", handleDragMove);
      lightboxContainer.addEventListener("touchend", handleDragEnd);
    </script>
  </body>
</html>
